<!DOCTYPE html>
<html>
<head>
    <title>Code Area</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.0/socket.io.js"></script>
    <script type="text/javascript" charset="utf-8">
        var socket = io();

        socket.on('connect', function() {
            console.log('Connected to the server');
        });

        function sendMessage() {
            var message = document.getElementById('inputCode').value;
            socket.send(message);
            document.getElementById('inputCode').value = '';
            document.getElementById('messageBox').value = '';
        }

        // 收到消息
        socket.on('response_message', function(data) {
            console.log('Message from server:', data.data);

            var messageBox = document.getElementById("messageBox");
            messageBox.value += data.data + "\n";
       
    });
    </script>
    <style> 
    #mainContent {
        display: flex;
        height: 50vh;  /* 設置主內容區高度為視窗高度的一半 */
    }

    #inputSection, #outputSection {
        flex: 1;  /* 讓每個區域佔據可用空間的一半 */
        padding: 10px;
    }
    #inputCode {
        width: 100%;
        height: 50%;
        background-color: #eee;
        
    }
    #messageBox {
        width: 100%;
        height: 50%;
        background-color: #fff;
    }
    #runCode {
        width: 80px;
        height: 30px;
        background-color: #eee;
        border: 1px solid #ccc;
        border-radius: 5px;
        cursor: pointer;
    }
    </style>
    
</head>
<body>
    <h1>Flask x SocketIO x Jupyter</h1>

    <div id="mainContent">
        <!-- python輸入框 -->
        <div id="inputSection">
            <textarea id="inputCode" placeholder="Enter Python code here ..."></textarea>
            <button id="runCode" onclick="sendMessage()">Run</button>
        </div>
        <!-- python輸出結果 -->
        <div id="outputSection">
            <textarea id="messageBox" readonly></textarea>
        </div>
    </div>

    

    
</body>
</html>
